!function(a){a.event.special.textchange={setup:function(){a(this).data("lastValue",a(this).is("input")?a(this).val():a(this).html()),a(this).bind("keyup.textchange",a.event.special.textchange.handler),a(this).bind("cut.textchange paste.textchange input.textchange",a.event.special.textchange.delayedHandler)},teardown:function(){a(this).unbind(".textchange")},handler:function(b){b.keyCode&&13==b.keyCode&&a(".note.new").addClass("typed"),a.event.special.textchange.triggerIfChanged(a(this))},delayedHandler:function(){var b=a(this);setTimeout(function(){a.event.special.textchange.triggerIfChanged(b)},25)},triggerIfChanged:function(a){var b=a.is("input")?a.val():a.html();b!==a.data("lastValue")&&(a.trigger("textchange",a.data("lastValue")),a.data("lastValue",b))}}}(jQuery);